[{"filePath":"C:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'useThree' is defined but never used.","line":6,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"useThree"},"fix":{"range":[109,119],"text":""},"desc":"Remove unused variable \"useThree\"."}]},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:30:23\n  28 |         const temp: Particle[] = [];\n  29 |         for (let i = 0; i < count; i++) {\n> 30 |             const t = Math.random() * 100;\n     |                       ^^^^^^^^^^^^^ Cannot call impure function\n  31 |             const factor = 20 + Math.random() * 100;\n  32 |             const speed = 0.01 + Math.random() / 200;\n  33 |             const xFactor = -50 + Math.random() * 100;","line":30,"column":23,"nodeType":null,"endLine":30,"endColumn":36},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:31:33\n  29 |         for (let i = 0; i < count; i++) {\n  30 |             const t = Math.random() * 100;\n> 31 |             const factor = 20 + Math.random() * 100;\n     |                                 ^^^^^^^^^^^^^ Cannot call impure function\n  32 |             const speed = 0.01 + Math.random() / 200;\n  33 |             const xFactor = -50 + Math.random() * 100;\n  34 |             const yFactor = -50 + Math.random() * 100;","line":31,"column":33,"nodeType":null,"endLine":31,"endColumn":46},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:32:34\n  30 |             const t = Math.random() * 100;\n  31 |             const factor = 20 + Math.random() * 100;\n> 32 |             const speed = 0.01 + Math.random() / 200;\n     |                                  ^^^^^^^^^^^^^ Cannot call impure function\n  33 |             const xFactor = -50 + Math.random() * 100;\n  34 |             const yFactor = -50 + Math.random() * 100;\n  35 |             const zFactor = -50 + Math.random() * 100;","line":32,"column":34,"nodeType":null,"endLine":32,"endColumn":47},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:33:35\n  31 |             const factor = 20 + Math.random() * 100;\n  32 |             const speed = 0.01 + Math.random() / 200;\n> 33 |             const xFactor = -50 + Math.random() * 100;\n     |                                   ^^^^^^^^^^^^^ Cannot call impure function\n  34 |             const yFactor = -50 + Math.random() * 100;\n  35 |             const zFactor = -50 + Math.random() * 100;\n  36 |             temp.push({ t, factor, speed, xFactor, yFactor, zFactor, mx: 0, my: 0 });","line":33,"column":35,"nodeType":null,"endLine":33,"endColumn":48},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:34:35\n  32 |             const speed = 0.01 + Math.random() / 200;\n  33 |             const xFactor = -50 + Math.random() * 100;\n> 34 |             const yFactor = -50 + Math.random() * 100;\n     |                                   ^^^^^^^^^^^^^ Cannot call impure function\n  35 |             const zFactor = -50 + Math.random() * 100;\n  36 |             temp.push({ t, factor, speed, xFactor, yFactor, zFactor, mx: 0, my: 0 });\n  37 |         }","line":34,"column":35,"nodeType":null,"endLine":34,"endColumn":48},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:35:35\n  33 |             const xFactor = -50 + Math.random() * 100;\n  34 |             const yFactor = -50 + Math.random() * 100;\n> 35 |             const zFactor = -50 + Math.random() * 100;\n     |                                   ^^^^^^^^^^^^^ Cannot call impure function\n  36 |             temp.push({ t, factor, speed, xFactor, yFactor, zFactor, mx: 0, my: 0 });\n  37 |         }\n  38 |         particlesRef.current = temp;","line":35,"column":35,"nodeType":null,"endLine":35,"endColumn":48},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:44:25\n  42 |         const p = new Float32Array(count * 3);\n  43 |         for (let i = 0; i < count; i++) {\n> 44 |             p[i * 3] = (Math.random() - 0.5) * 10;\n     |                         ^^^^^^^^^^^^^ Cannot call impure function\n  45 |             p[i * 3 + 1] = (Math.random() - 0.5) * 10;\n  46 |             p[i * 3 + 2] = (Math.random() - 0.5) * 10;\n  47 |         }","line":44,"column":25,"nodeType":null,"endLine":44,"endColumn":38},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:45:29\n  43 |         for (let i = 0; i < count; i++) {\n  44 |             p[i * 3] = (Math.random() - 0.5) * 10;\n> 45 |             p[i * 3 + 1] = (Math.random() - 0.5) * 10;\n     |                             ^^^^^^^^^^^^^ Cannot call impure function\n  46 |             p[i * 3 + 2] = (Math.random() - 0.5) * 10;\n  47 |         }\n  48 |         return p;","line":45,"column":29,"nodeType":null,"endLine":45,"endColumn":42},{"ruleId":"react-hooks/purity","severity":2,"message":"Error: Cannot call impure function during render\n\n`Math.random` is an impure function. Calling an impure function can produce unstable results that update unpredictably when the component happens to re-render. (https://react.dev/reference/rules/components-and-hooks-must-be-pure#components-and-hooks-must-be-idempotent).\n\nC:\\Users\\HP\\Desktop\\my portfolio\\components\\LiveBackground.tsx:46:29\n  44 |             p[i * 3] = (Math.random() - 0.5) * 10;\n  45 |             p[i * 3 + 1] = (Math.random() - 0.5) * 10;\n> 46 |             p[i * 3 + 2] = (Math.random() - 0.5) * 10;\n     |                             ^^^^^^^^^^^^^ Cannot call impure function\n  47 |         }\n  48 |         return p;\n  49 |     }, [count]);","line":46,"column":29,"nodeType":null,"endLine":46,"endColumn":42}],"suppressedMessages":[],"errorCount":9,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\"use no memo\";\r\n\r\n\r\nimport React, { useRef, useMemo } from \"react\";\r\nimport { Canvas, useFrame, useThree } from \"@react-three/fiber\";\r\nimport * as THREE from \"three\";\r\n\r\ninterface Particle {\r\n    t: number;\r\n    factor: number;\r\n    speed: number;\r\n    xFactor: number;\r\n    yFactor: number;\r\n    zFactor: number;\r\n    mx: number;\r\n    my: number;\r\n}\r\n\r\nfunction Particles({ count = 1500 }) {\r\n    const mesh = useRef<THREE.Points>(null!);\r\n\r\n    // Using useRef for high-performance mutations to avoid React Compiler issues\r\n    const particlesRef = useRef<Particle[]>([]);\r\n\r\n    // Initialize particles only once\r\n    useMemo(() => {\r\n        const temp: Particle[] = [];\r\n        for (let i = 0; i < count; i++) {\r\n            const t = Math.random() * 100;\r\n            const factor = 20 + Math.random() * 100;\r\n            const speed = 0.01 + Math.random() / 200;\r\n            const xFactor = -50 + Math.random() * 100;\r\n            const yFactor = -50 + Math.random() * 100;\r\n            const zFactor = -50 + Math.random() * 100;\r\n            temp.push({ t, factor, speed, xFactor, yFactor, zFactor, mx: 0, my: 0 });\r\n        }\r\n        particlesRef.current = temp;\r\n    }, [count]);\r\n\r\n    const points = useMemo(() => {\r\n        const p = new Float32Array(count * 3);\r\n        for (let i = 0; i < count; i++) {\r\n            p[i * 3] = (Math.random() - 0.5) * 10;\r\n            p[i * 3 + 1] = (Math.random() - 0.5) * 10;\r\n            p[i * 3 + 2] = (Math.random() - 0.5) * 10;\r\n        }\r\n        return p;\r\n    }, [count]);\r\n\r\n    useFrame((state) => {\r\n        const time = state.clock.getElapsedTime();\r\n        const particles = particlesRef.current;\r\n\r\n        // Smoothly update positions\r\n        for (let i = 0; i < count; i++) {\r\n            const p = particles[i];\r\n            p.t += p.speed / 2;\r\n            const { t, factor, xFactor, yFactor, zFactor } = p;\r\n\r\n            // Update positions based on mouse\r\n            p.mx += (state.mouse.x * 1000 - p.mx) * 0.01;\r\n            p.my += (state.mouse.y * 1000 - p.my) * 0.01;\r\n\r\n            const x = (xFactor + Math.cos((t / 10) * factor) + (Math.sin(t * 1) * factor) / 10) / 10;\r\n            const y = (yFactor + Math.sin((t / 10) * factor) + (Math.cos(t * 2) * factor) / 10) / 10;\r\n            const z = (zFactor + Math.cos((t / 10) * factor) + (Math.sin(t * 3) * factor) / 10) / 10;\r\n\r\n            mesh.current.geometry.attributes.position.setXYZ(i, x, y, z);\r\n        }\r\n        mesh.current.geometry.attributes.position.needsUpdate = true;\r\n        mesh.current.rotation.y = time * 0.05;\r\n        mesh.current.rotation.x = time * 0.02;\r\n    });\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <points ref={mesh}>\r\n                <bufferGeometry>\r\n                    <bufferAttribute\r\n                        attach=\"attributes-position\"\r\n                        args={[points, 3]}\r\n                    />\r\n                </bufferGeometry>\r\n                <pointsMaterial\r\n                    size={0.015}\r\n                    color=\"#2563EB\"\r\n                    transparent\r\n                    opacity={0.6}\r\n                    sizeAttenuation\r\n                />\r\n            </points>\r\n            <group>\r\n                <mesh position={[0, 0, -10]}>\r\n                    <sphereGeometry args={[20, 32, 32]} />\r\n                    <meshBasicMaterial color=\"#0F172A\" side={THREE.BackSide} />\r\n                </mesh>\r\n            </group>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default function LiveBackground() {\r\n    return (\r\n        <div className=\"fixed inset-0 -z-10 bg-[#0F172A]\">\r\n            <Canvas camera={{ position: [0, 0, 5], fov: 75 }}>\r\n                <ambientLight intensity={0.5} />\r\n                <pointLight position={[10, 10, 10]} intensity={1} color=\"#7C3AED\" />\r\n                <pointLight position={[-10, -10, -10]} intensity={0.5} color=\"#EC4899\" />\r\n                <Particles />\r\n            </Canvas>\r\n            <div className=\"absolute inset-0 bg-gradient-to-tr from-navy via-transparent to-royal-purple/20 pointer-events-none\" />\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]}]
